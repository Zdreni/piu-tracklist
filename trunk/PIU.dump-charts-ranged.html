<!DOCTYPE html>
<html>
	<script src="include/underscore/underscore-min.js"></script>
</head>

<script src="tracklist.js"></script>
<script src="tracklist_src.js"></script>
<!--
<script src="tracklist_src_add.js"></script>
<script src="check.js"></script>
<script src="check_Exceed2_Zero.js"></script>
<script src="check_NX.js"></script>
<script src="check_NX2_NXA.js"></script>
-->
<!-- -->
<script src="tracklist_bpms.js"></script>
<script src="tracklist_unlocks.js"></script>
<!-- <script src="tracklist_level_estimations.js"></script> -->

<code>
<script>
var mixID = "Prime";
//var appearedMixesIDs = [ "FiestaEX", "Fiesta2", "Prime" ];
var appearedMixesIDs = [ "FiestaEX" ];
var lowerLevel = 20;
var upperLevel = 22;

var levels = {};
for( var level = lowerLevel;  level <= upperLevel;  ++level)
{
	levels[ "S" + level ] =	 [];
	levels[ "D" + level ] = [];
}

for( var trackID in tracklist )
{
	var track = tracklist[ trackID ];
	if( track.duration != "Standard" )
		continue;

	var mixCharts = track[ mixID ];
	if( ! mixCharts )
		continue;

	track[ mixID ] = {};
	for( var chart of mixCharts )
	{
		if( appearedMixesIDs.indexOf( chart.fromMixID ) < 0 )
			continue;

		var tag = chart.text;
		if( levels[ tag ] )
		{
			if( chart.unlockDescr  &&  ! chart.unlockPatchIndex )
				levels[ tag ].push( "[" + chart.unlockDescr + "] &nbsp;" + track.title + "&nbsp;&nbsp;" + chart.text );
			else
				levels[ tag ].push( track.title + "&nbsp;&nbsp;" + chart.text );
		}
	}
}


function WriteBlock( tag )
{
	if( ! levels[ tag ]  ||  levels[ tag ].length === 0 )
		return;

	document.write( tag + ":<br>" );
	levels[ tag ].sort()
	for( var chart of levels[ tag ] )
		document.write( chart + "<br>" );
	document.write( "<br>" );
}

for( var level = lowerLevel;  level <= upperLevel;  ++level)
{
	WriteBlock( "S" + level );
	WriteBlock( "D" + level );
}

</script>
</code>

</body>
</html>
